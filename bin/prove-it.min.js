!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.prove=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var util=require("../util.js");module.exports={error:function(t){return{validator:function(){return!1},msg:t||""}},eval:function(){var t=arguments;return{validator:function(n){for(var r,e,u=0;u<t.length;u+=1)r=t[u](n),null!=r&&null!=r.test&&(r.path=""===r.path?this.path:r.path,e=r.test(n),!0!==e&&this.append({msg:e,val:n}));return!0},msg:"{PATH} could not run a test"}},"try":function(){var t=arguments;return{validator:function(n){var r,e;for(r=0;r<t.length;r+=1)if(e=t[r],null!=e&&null!=e.test&&!0===e.test(n))return!0;for(r=0;r<t.length;r+=1)e=t[r],null!=e&&null!=e.test&&this.append({msg:e.test(n),val:n});return!0},msg:"{PATH} could not run a test"}},equals:function(){var t=arguments;return{validator:function(n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return!0;return!1},msg:"{PATH} should equal "+util.listString(t,!0)}},integer:function(){return{validator:function(t){return 0===t%1},msg:"{PATH} should be an integer"}},precision:function(t){return{validator:function(n){return util.is.Number(n)&&t>=(n.toString().split(".")[1]||"").length},msg:"{PATH} should have "+t+" decimal places"}},divisibleBy:function(t){return{validator:function(n){return 0===n%t},msg:"{PATH} should be divisible by "+t}},lt:function(t){return{validator:function(n){return t>n},msg:"{PATH} should be less than "+t}},lte:function(t){return{validator:function(n){return t>=n},msg:"{PATH} should be less than or equal to "+t}},gt:function(t){return{validator:function(n){return n>t},msg:"{PATH} should be greater than "+t}},gte:function(t){return{validator:function(n){return n>=t},msg:"{PATH} should be greater than or equal to "+t}},length:function(t,n){return t=t||0,{validator:function(r){return t<=r.length&&(null==n||n>=r.length)},msg:null==n?"{PATH} should have a length of at least "+t:"{PATH} should have a length within "+t+" and "+n}},startsWith:function(t){return{validator:function(n){return 0===n.indexOf(t)},msg:"{PATH} should start with "+t}},endsWith:function(t){return{validator:function(n){var r=null!=t&&null!=t.length?n.length-t.length:n.length-1;return 0>r&&(r=0),r===n.indexOf(t)},msg:"{PATH} should end with "+t}},contains:function(){var t=arguments;return{validator:function(n){if(0===t.length&&null!=n)return!1;for(var r=0;r<t.length;r+=1)if(0>n.indexOf(t[r]))return!1;return!0},msg:"{PATH} should contain "+util.listString(t)}},matches:function(t){return{validator:RegExp.prototype.test.bind(t),msg:"{PATH} should match "+t}},lowerCase:function(){return{validator:function(t){return t.toLowerCase()===t},msg:"{PATH} should be lower case"}},upperCase:function(){return{validator:function(t){return t.toUpperCase()===t},msg:"{PATH} should be upper case"}},JSON:function(){return{validator:function(t){try{return JSON.parse(t),!0}catch(n){return!1}},msg:"{PATH} should be JSON"}}};
},{"../util.js":6}],2:[function(require,module,exports){
"use strict";var ip={v4:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,v6:/^::|^::1|^([a-fA-F0-9]{1,4}::?){1,7}([a-fA-F0-9]{1,4})$/},creditCards={visa:/^4[0-9]{12}(?:[0-9]{3})?$/,mastercard:/^5[1-5][0-9]{14}$/,americanexpress:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9]{2})[0-9]{12}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/};module.exports={alpha:function(){return{validator:function(t){return/^[a-zA-z]+$/.test(t)},msg:"{PATH} should only contain letters"}},numeric:function(){return{validator:function(t){return/^-?[0-9]+$/.test(t)},msg:"{PATH} should only contain numbers"}},alphaNumeric:function(){return{validator:function(t){return/^[a-zA-Z0-9]+$/.test(t)},msg:"{PATH} should only contain letters and numbers"}},hex:function(){return{validator:function(t){return/^[0-9a-fA-F]+$/.test(t)},msg:"{PATH} should be a hexadecimal"}},hexColor:function(){return{validator:function(t){return/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(t)},msg:"{PATH} should be a hex-color"}},ascii:function(){return{validator:function(t){return/^[\x00-\x7F]+$/.test(t)},msg:"{PATH} should only contain ascii characters"}},ip:function(t){return t=Number(t),{validator:function(r){return 4===t?ip.v4.test(r):6===t?ip.v6.test(r):ip.v4.test(r)||ip.v6.test(r)},msg:4===t||6===t?"{PATH} should be ipv"+t:"{PATH} should be ipv4 or ipv6"}},phoneNumber:function(){return{validator:function(t){return t.replace(/[^0-9\-\.\(\) \+\/]/,"")===t&&14>t.replace(/[^0-9]/g,"").length},msg:"{PATH} should be a phone number"}},creditCard:function(){var t=0===arguments.length?Object.keys(creditCards):arguments;return{validator:function(r){r=r.replace(/-| /g,"");for(var e=0;e<t.length;e+=1)if(creditCards[t[e].toLowerCase()].test(r))return!0;return!1},msg:"{PATH} should be a credit card"}}};
},{}],3:[function(require,module,exports){
"use strict";var util=require("../util.js");module.exports={String:function(){return{validator:util.is.String,msg:"{PATH} should be a string"}},Number:function(){return{validator:util.is.Number,msg:"{PATH} should be a number"}},Boolean:function(){return{validator:util.is.Boolean,msg:"{PATH} should be a boolean"}},Date:function(){return{validator:util.is.Date,msg:"{PATH} should be a date"}},RegExp:function(){return{validator:util.is.RegExp,msg:"{PATH} should be a regexp"}},Function:function(){return{validator:util.is.Function,msg:"{PATH} should be a function"}},Object:function(){for(var t,r={},n=[],e="",a=0;a<arguments.length;a+=1){t=arguments[a];for(var i in t)if(t.hasOwnProperty(i)){if(null==t[i]||null==t[i].test)throw new Error("Prove-It: Non test provided at "+i);"/"===i[0]&&"/"===i[i.length-1]?(n.push(t[i]),e+="("+i.slice(1,i.length-1)+")?"):(r[i]=r[i]||[],r[i].push(t[i]))}}return e=new RegExp(e),{validator:function(t){var a,i,o,u=util.is.Object(t);if(u&&(!util.isEmpty(r)||0!==n.length)){for(i in r)if(r.hasOwnProperty(i)){o=t[i];for(var l=0;l<r[i].length;l+=1)a=r[i][l],this.append({path:i,msg:a.test(o),val:o})}for(i in t)t.hasOwnProperty(i)&&(o=t[i],a=n[i.match(e).lastIndexOf(i)-1],null!=a?this.append({path:i,msg:a.test(o),val:o}):null==r[i]&&this.append({path:i,msg:"{PATH} is not an allowed field",val:o}))}return u},msg:"{PATH} should be an object"}},Array:function(){for(var t,r=[],n=0;n<arguments.length;n+=1){if(t=arguments[n],null==t.test)throw new Error("Prove-It: Non test provided to array validator");r.push(t)}return{validator:function(t){var n,e,a=util.is.Array(t);if(a&&!util.isEmpty(r))for(var i=0;i<t.length;i+=1){e=t[i];for(var o=0;o<r.length;o+=1)n=r[o],this.append({path:i,msg:n.test(e),val:e})}return a},msg:"{PATH} should be an array"}}};
},{"../util.js":6}],4:[function(require,module,exports){
"use strict";var util=require("./util.js");module.exports=function(r){r=r||{};var e=function(e,s,i){var t=r[e]=r[e]||{message:[]};t.message=t.message.concat(s),t.value=i};return{append:function(r){var s,i=null==r.path?"":r.path,t=r.msg,a=r.val;if(!0!==t)if(util.is.String(t)&&(t={errors:[t.replace(/\{VALUE\}/g,a).replace(/\{PATH\}/g,i)]}),util.is.Array(t.errors))e(i,t.errors,a);else if(util.is.Object(t.errors)){i=""===i?"":i+".";for(var u in t.errors)t.errors.hasOwnProperty(u)&&(s=t.errors[u],e(i+u,s.message,s.value))}},finish:function(){return util.isEmpty(r)?!1:r}}};
},{"./util.js":6}],5:[function(require,module,exports){
"use strict";var createErrorHandler=require("./errorHandler.js"),ValidationError=function(e){this.name="ValidationError",this.message="Validation Failed",this.errors=e};ValidationError.prototype=Error.prototype;var prove=function(e){return Object.create(prove.prototype,{path:{value:e||"",writable:!0},selected:{value:[],writable:!0},isRequired:{value:!0,writable:!0}})};prove.prototype.optional=function(e){return this.isRequired=!Boolean(null==e||e),this},prove.prototype.required=function(e){return this.isRequired=Boolean(null==e||e),this},prove.prototype.test=function(e){var r,t,a=createErrorHandler();if(a.path=this.path,null==e)this.isRequired&&a.append({path:this.path,msg:"{PATH} is a required field"});else for(var o=0,i=this.selected.length;i>o;o+=1){r=this.selected[o];try{if(!0!==r.validator.call(a,e))throw 0}catch(n){a.append({path:this.path,msg:r.msg,val:e})}}return t=a.finish(),!1===t?!0:new ValidationError(1!==Object.keys(t).length||null==t[this.path]&&null==t[""]?t:(t[this.path]||t[""]).message)},prove.concat=function(){for(var e,r,t,a=[],o=0;o<arguments.length;o+=1)t=arguments[o],null==r&&""!==t.path&&(r=t.path),a=a.concat(t.selected);return e=prove(r),e.selected=e.selected.concat(a),e};var chainValidator=function(e){return function(){return this.selected.push(e.apply(null,arguments)),this}};prove.extend=function(e){for(var r in e)e.hasOwnProperty(r)&&(prove.prototype[r]=chainValidator(e[r]))},prove.extend(require("./default/types.js")),prove.extend(require("./default/common.js")),prove.extend(require("./default/regex.js")),module.exports=prove["default"]=prove;
},{"./default/common.js":1,"./default/regex.js":2,"./default/types.js":3,"./errorHandler.js":4}],6:[function(require,module,exports){
"use strict";var typeClass={string:"[object String]",number:"[object Number]","boolean":"[object Boolean]",date:"[object Date]",regexp:"[object RegExp]","function":"[object Function]",object:"[object Object]",array:"[object Array]",arguments:"[object Arguments]"},isType=function(e){return function(t){return null!=t&&("object"!=typeof t&&e===typeof t||"object"==typeof t&&Object.prototype.toString.call(t)===typeClass[e])}};module.exports={isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},listString:function(e,t){return e=Array.prototype.slice.call(e),0===e.length?"nothing":1===e.length?e[0]:e.slice(0,e.length-1)+(null==t?" and ":" or ")+e.slice(e.length-1)},is:{String:isType("string"),Number:isType("number"),Boolean:isType("boolean"),RegExp:isType("regexp"),Date:isType("date"),Function:isType("function"),Object:isType("object"),Array:isType("array")}};
},{}]},{},[5])(5)
});