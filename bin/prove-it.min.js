!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.prove=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var types=require("./types.js"),listString=function(t,n){return t=[].slice.call(t),0===t.length?"nothing":1===t.length?t[0]:t.slice(0,t.length-1)+(null==n?" and ":" or ")+t.slice(t.length-1)};module.exports={error:function(t){return{validator:function(){return!1},msg:t||""}},eval:function(){var t=arguments;return{validator:function(n){for(var r,e,u=0;u<t.length;u+=1)r=t[u](n),null!=r&&null!=r.test&&(r._config.path=null==r._config.path||""===r._config.path?this.path:r._config.path,e=r.test(n),!0!==e&&this.append({msg:e,val:n}));return!0},msg:"{PATH} could not run a test"}},"try":function(){var t=arguments;return{validator:function(n){var r,e;for(r=0;r<t.length;r+=1)if(e=t[r],null!=e&&null!=e.test&&!0===e.test(n))return!0;for(r=0;r<t.length;r+=1)e=t[r],null!=e&&null!=e.test&&this.append({msg:e.test(n),val:n});return!0},msg:"{PATH} could not run a test"}},equals:function(){var t=arguments;return{validator:function(n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return!0;return!1},msg:"{PATH} should equal "+listString(t,!0)}},integer:function(){return{validator:function(t){return 0===t%1},msg:"{PATH} should be an integer"}},precision:function(t){return{validator:function(n){return"number"==typeof n&&t>=(n.toString().split(".")[1]||"").length},msg:"{PATH} should have "+t+" decimal places"}},divisibleBy:function(t){return{validator:function(n){return 0===n%t},msg:"{PATH} should be divisible by "+t}},lt:function(t){return{validator:function(n){return t>n},msg:"{PATH} should be less than "+t}},lte:function(t){return{validator:function(n){return t>=n},msg:"{PATH} should be less than or equal to "+t}},gt:function(t){return{validator:function(n){return n>t},msg:"{PATH} should be greater than "+t}},gte:function(t){return{validator:function(n){return n>=t},msg:"{PATH} should be greater than or equal to "+t}},length:function(t,n){return t=t||0,{validator:function(r){return t<=r.length&&(null==n||n>=r.length)},msg:null==n?"{PATH} should have a length of at least "+t:"{PATH} should have a length within "+t+" and "+n}},startsWith:function(t){return{validator:function(n){return 0===n.indexOf(t)},msg:"{PATH} should start with "+t}},endsWith:function(t){return{validator:function(n){var r=null!=t&&null!=t.length?n.length-t.length:n.length-1;return 0>r&&(r=0),r===n.indexOf(t)},msg:"{PATH} should end with "+t}},contains:function(){var t=arguments;return{validator:function(n){if(0===t.length&&null!=n)return!1;for(var r=0;r<t.length;r+=1)if(0>n.indexOf(t[r]))return!1;return!0},msg:"{PATH} should contain "+listString(t)}},matches:function(t){return{validator:RegExp.prototype.test.bind(t),msg:"{PATH} should match "+t}},lowerCase:function(){return{validator:function(t){return t.toLowerCase()===t},msg:"{PATH} should be lower case"}},upperCase:function(){return{validator:function(t){return t.toUpperCase()===t},msg:"{PATH} should be upper case"}},JSON:function(){return{validator:function(t){try{return JSON.parse(t),!0}catch(n){return!1}},msg:"{PATH} should be JSON"}}};
},{"./types.js":3}],2:[function(require,module,exports){
"use strict";var ip={v4:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,v6:/^::|^::1|^([a-fA-F0-9]{1,4}::?){1,7}([a-fA-F0-9]{1,4})$/},creditCards={visa:/^4[0-9]{12}(?:[0-9]{3})?$/,mastercard:/^5[1-5][0-9]{14}$/,americanexpress:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9]{2})[0-9]{12}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/};module.exports={alpha:function(){return{validator:function(t){return/^[a-zA-z]+$/.test(t)},msg:"{PATH} should only contain letters"}},numeric:function(){return{validator:function(t){return/^-?[0-9]+$/.test(t)},msg:"{PATH} should only contain numbers"}},alphaNumeric:function(){return{validator:function(t){return/^[a-zA-Z0-9]+$/.test(t)},msg:"{PATH} should only contain letters and numbers"}},hex:function(){return{validator:function(t){return/^[0-9a-fA-F]+$/.test(t)},msg:"{PATH} should be a hexadecimal"}},hexColor:function(){return{validator:function(t){return/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(t)},msg:"{PATH} should be a hex-color"}},ascii:function(){return{validator:function(t){return/^[\x00-\x7F]+$/.test(t)},msg:"{PATH} should only contain ascii characters"}},ip:function(t){return t=Number(t),{validator:function(r){return 4===t?ip.v4.test(r):6===t?ip.v6.test(r):ip.v4.test(r)||ip.v6.test(r)},msg:4===t||6===t?"{PATH} should be ipv"+t:"{PATH} should be ipv4 or ipv6"}},phoneNumber:function(){return{validator:function(t){return t.replace(/[^0-9\-\.\(\) \+\/]/,"")===t&&14>t.replace(/[^0-9]/g,"").length},msg:"{PATH} should be a phone number"}},creditCard:function(){var t=0===arguments.length?Object.keys(creditCards):arguments;return{validator:function(r){r=r.replace(/-| /g,"");for(var e=0;e<t.length;e+=1)if(creditCards[t[e].toLowerCase()].test(r))return!0;return!1},msg:"{PATH} should be a credit card"}}};
},{}],3:[function(require,module,exports){
"use strict";var toString=Object.prototype.toString,typeClass={string:"[object String]",number:"[object Number]","boolean":"[object Boolean]",date:"[object Date]",regexp:"[object RegExp]","function":"[object Function]",object:"[object Object]",array:"[object Array]",arguments:"[object Arguments]"},objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},isType=function(t,e){return t&&"object"==typeof t&&toString.call(t)===typeClass[e]||!1};module.exports={String:function(){return{validator:function(t){return"string"==typeof t||isType(t,"string")},msg:"{PATH} should be a string"}},Number:function(){return{validator:function(t){return"number"==typeof t||isType(t,"number")},msg:"{PATH} should be a number"}},Boolean:function(){return{validator:function(t){return!0===t||!1===t||isType(t,"boolean")},msg:"{PATH} should be a boolean"}},Date:function(){return{validator:function(t){return toString.call(t)===typeClass.date&&!isNaN(t.getTime())},msg:"{PATH} should be a date"}},RegExp:function(){return{validator:function(t){return t&&objectTypes[typeof t]&&toString.call(t)===typeClass.regexp||!1},msg:"{PATH} should be a regexp"}},Function:function(){return{validator:function(t){return"function"==typeof t},msg:"{PATH} should be a function"}},Object:function(){for(var t,e={},n=[],r="",o=0;o<arguments.length;o+=1){t=arguments[o];for(var a in t)if(t.hasOwnProperty(a)){if(null==t[a]||null==t[a].test)throw new Error("Prove-It: Non test provided at "+a);"/"===a[0]&&"/"===a[a.length-1]?(n.push(t[a]),r+="("+a.slice(1,a.length-1)+")?"):(e[a]=e[a]||[],e[a].push(t[a]))}}return r=new RegExp(r),{validator:function(t){var o,a,i,u=t&&"object"==typeof t;if(u&&(!isEmpty(e)||0!==n.length)){for(a in e)if(e.hasOwnProperty(a)){i=t[a];for(var s=0;s<e[a].length;s+=1)o=e[a][s],this.append({path:a,msg:o.test(i),val:i})}for(a in t)t.hasOwnProperty(a)&&(i=t[a],o=n[a.match(r).lastIndexOf(a)-1],null!=o?this.append({path:a,msg:o.test(i),val:i}):null==e[a]&&this.append({path:a,msg:"{PATH} is not an allowed field",val:i}))}return u},msg:"{PATH} should be an object"}},Array:function(){for(var t,e=[],n=0;n<arguments.length;n+=1){if(t=arguments[n],null==t.test)throw new Error("Prove-It: Non test provided to array validator");e.push(t)}return{validator:function(t){var n,r,o=t&&"object"==typeof t&&"number"==typeof t.length&&toString.call(t)===typeClass.array||!1;if(o&&!isEmpty(e))for(var a=0;a<t.length;a+=1){r=t[a];for(var i=0;i<e.length;i+=1)n=e[i],this.append({path:a,msg:n.test(r),val:r})}return o},msg:"{PATH} should be an array"}}};
},{}],4:[function(require,module,exports){
"use strict";var arrayClass="[object Array]",toString=Object.prototype.toString,isEmpty=function(r){for(var e in r)if(r.hasOwnProperty(e))return!1;return!0};module.exports=function(r){r=r||{};var e=function(e,t,a){var n=r[e]=r[e]||{message:[]};t&&"object"==typeof t&&"number"==typeof t.length&&toString.call(t)===arrayClass?n.message=n.message.concat(t):("string"==typeof t||t instanceof String)&&n.message.push(t.replace(/\{VALUE\}/g,a).replace(/\{PATH\}/g,e)),n.value=a};return{append:function(r){var t,a=null==r.path?"":r.path,n=r.msg,s=r.val;if(!0!==n)if(null!=n.errors)for(var o in n.errors)n.errors.hasOwnProperty(o)&&(t=n.errors[o],""===a?e(o,t.message,t.value):e([a,o].join("."),t.message,t.value));else e(a,n,s)},finish:function(){return isEmpty(r)?!1:r}}};
},{}],5:[function(require,module,exports){
"use strict";var createErrorHandler=require("./errorHandler.js"),prove=function(e){return Object.create(prove.prototype,{_config:{value:{path:e||"",selected:[],optional:!1}}})};prove.prototype.test=function(e){var r,t,n=this._config,o=n.path,a=n.selected,l=createErrorHandler();if(l.path=o,null==e)!1===n.optional&&l.append({path:o,msg:"{PATH} is a required field",val:null});else for(var i=0,p=a.length;p>i;i+=1){r=a[i];try{if(!0!==r.validator.call(l,e))throw 0}catch(s){l.append({path:o,msg:r.msg,val:e})}}return t=l.finish(),!1===t?!0:1!==Object.keys(t).length||null==t[o]&&null==t[""]?{message:"Validation failed",name:"ValidationError",errors:t}:(t[o]||t[""]).message},prove.prototype.optional=function(e){var r=this._config;return r.optional=null==e||e,this},prove.concat=function(){for(var e,r,t,n=(arguments,[]),o=0;o<arguments.length;o+=1)t=arguments[o]._config,null==r&&""!==t.path&&(r=t.path),n=n.concat(t.selected);return e=prove(r),e._config.selected=n,e};var chainValidator=function(e){return function(){return this._config.selected.push(e.apply(null,arguments)),this}};prove.extend=function(e){for(var r in e)e.hasOwnProperty(r)&&(prove.prototype[r]=chainValidator(e[r]))},prove.extend(require("./default/types.js")),prove.extend(require("./default/common.js")),prove.extend(require("./default/regex.js")),module.exports=prove["default"]=prove;
},{"./default/common.js":1,"./default/regex.js":2,"./default/types.js":3,"./errorHandler.js":4}]},{},[5])(5)
});